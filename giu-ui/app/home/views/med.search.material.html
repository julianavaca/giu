<div class="form-fullpage card" layout="column" layout-margin flex>
  <div class="form-body" style="overflow: hidden; outline: none;">
    <form name="form" novalidate>
      <label>{{ 'search.form.material.sectionTitle' | translate}}</label>
      <div class="search-query-block" layout="row" layout-padding="10">
        <div flex="25">
          <md-input-container class="md-block">
            <label>{{'search.form.material.number' | translate}}</label>
            <input type="text" ng-model="vm.entity.materialId" tabindex="0"/>
          </md-input-container>
        </div>
        <div flex="25">
          <md-input-container class="md-block">
            <label>{{'search.form.material.title' | translate}}</label>
            <input type="text" ng-model="vm.entity.materialTitle"/>
          </md-input-container>
        </div>
        <div flex="25">
          <lay-autocomplete
            endpoint="materialTypesResource"
            is-cached="false"
            input-name="materialType"
            label="{{'search.form.material.type' | translate}}"
            item-selected="vm.entity.materialType"
            expression="vm.expression"
            condition="vm.condition"
            query="vm.queryMaterialType">
          </lay-autocomplete>
        </div>
        <div flex="25">
          <access roles="PRVM">
            <md-input-container class="md-block">
              <media-select-directive
                labeldir="'search.form.material.material.status' | translate"
                format-dir="vm.entity.mediaMaterialStatus"
                ng-init="vm.entity.mediaMaterialStatus = 'V'"
                format-resource-dir="[{id:'V', description: 'ACTIVE'}, {id:'A', description: 'ANULLED'}]">
              </media-select-directive>
            </md-input-container>
          </access>
        </div>
      </div>
      <div class="search-query-block" layout="row" layout-padding="10">
        <div flex="25">
          <md-input-container class="md-block">
            <label ng-disabled="!vm.entity.materialId">{{'search.form.material.chapter.from' | translate}}</label>
            <input ng-disabled="!vm.entity.materialId" type="text" ng-model="vm.entity.fromChapter"
                   ng-change="vm.checkChapterValidity(vm.entity.fromChapter, vm.entity.toChapter);vm.updateChapterTo();" />
             <div class="error-message" ng-hide="vm.checkChapterValidity(vm.entity.fromChapter, vm.entity.toChapter)">
               Chapter from must be lesser than chapter to.
             </div>
          </md-input-container>
        </div>
        <div flex="25">
          <md-input-container class="md-block">
            <label ng-disabled="!vm.entity.materialId">{{'search.form.material.chapter.to' | translate}}</label>
            <input ng-disabled="!vm.entity.materialId" type="text" ng-model="vm.entity.toChapter"
                   ng-change="vm.checkChapterValidity(vm.entity.fromChapter, vm.entity.toChapter)"/>
            <div class="error-message" ng-hide="vm.checkChapterValidity(vm.entity.fromChapter, vm.entity.toChapter)">
              Chapter to must be greater  than chapter from.
            </div>
          </md-input-container>
        </div>
        <div flex="25">
          <md-input-container class="md-block">
            <label>{{'search.form.material.chapter.title' | translate}}</label>
            <input type="text" ng-model="vm.entity.chapterTitle"/>
          </md-input-container>
        </div>
        <div flex="25">
          <md-input-container class="md-block">
            <label ng-disabled="!vm.entity.materialId">{{'search.form.material.episode.number' | translate}}</label>
            <input ng-disabled="!vm.entity.materialId" type="text" ng-model="vm.entity.episodeId" />
          </md-input-container>
        </div>
      </div>
      <div class="search-query-block" layout="row" layout-align="end" layout-padding="10">
        <div flex="25" class="form-buttons fg-line">
          <md-button ng-click="vm.makeSearch()" class="md-raised md-primary bgm-blue">
            {{'search.form.submit'|translate}}
          </md-button>
          <a class="m-l-10" ng-click="vm.clearForm()">{{'search.form.clear'|translate}}</a>
        </div>
      </div>
    </form>
  </div>
  <!--mini-charts-item-->
</div>

{"version":3,"sources":["app/home/scripts/controllers/med.new.base.ctrl.js"],"names":[],"mappings":"AAAA,OAAO,SAAS,kDAAkD,IAAI,UAAU,SAAS;EAAzF;;EAGE,IADmB;EAEnB,OAAO;IACL,SAAS;IACT,SAAS,YAAY;MAJJ,cAAW,CAAA,YAAA;;;;;QAGnB,SAHQ,YAGP,KAAK,QAAQ,SAAS,iBAAgB,kBAAiB;UAO3D,IAAI,QAAQ;;UAEZ,aAAa,eAAe,MAZjB;;UAKjB,KAAK,MAAM;UACX,KAAK,QAAQ;UACb,KAAK,SAAS;UACd,KAAK,mBAAmB;UACxB,KAAK,eAAe;UACpB,KAAK,kBAAkB;UACvB,KAAK,gBAAgB;UACrB,KAAK,gBAAgB,mBAAmB,KAAK;;UAE7C,IAAI,UAAU,KAAK,MAAM,OAAO;UAChC,IAAG,SAAQ;YACT,KAAK,gBAAgB,eAAe;YACpC,KAAK,IAAI,UAAU,IAAI,EAAC,aAAY,WAAU,SAAS,KAAK,UAAC,UAAW;cACtE,MAAK,gBAAgB,WAAW,SAAQ;;YAE1C,KAAK;;UAEP,KAAK;;;QAYD,aAAa,YAlCA,aAAW,CAAA;UAmCtB,KAAK;UACL,OAXF,SAAA,OAAC,OAAM;YACX,OAAO,KAAK,gBAAgB,OAAO;;WAa5B;UACD,KAAK;UACL,OAZA,SAAA,WAAE;YACR,KAAK,gBAAgB;;WAcd;UACD,KAAK;UACL,OAbM,SAAA,eAAC,OAAM;YACnB,KAAK,gBAAgB,eAAe;;WAe7B;UACD,KAAK;UACL,OAdK,SAAA,gBAAE;YACb,KAAK,OAAO,QAAQ;;WAgBb;UACD,KAAK;UACL,OAfI,SAAA,eAAE;YACZ,OAAO,KAAK,gBAAgB;;WAiBrB;UACD,KAAK;UACL,OAhBO,SAAA,kBAAE;YACf,OAAO,KAAK,gBAAgB;;WAkBrB;UACD,KAAK;UACL,OAjBS,SAAA,oBAAE;YACjB,OAAO,KAAK,gBAAgB;;WAmBrB;UACD,KAAK;UACL,OAlBM,SAAA,iBAAE;YACd,OAAO,KAAK,gBAAgB;;WAoBrB;UACD,KAAK;UACL,OAnBA,SAAA,WAAE;YAoBA,IAAI,SAAS;;YAnBrB,IAAI,QAAQ,CAAC;YACb,KAAK,UAAQ;YACb,KAAK,iBACF,UACA,KAAK,YAAM;cACV,OAAK,UAAU,OAAK,iBAAiB,YAAY;;;;QAuBjD,OAtFa;;;MAyFf,QAAQ,WAzFO;;;GA4FlB","file":"app/home/scripts/controllers/med.new.base.ctrl.js","sourcesContent":["'use strict';\n\nexport default class NewBaseCtrl {\n\n  /*@ngInject*/\n  constructor(api, $state, $window, newMediaService,authorityService){\n\n    this.api = api;\n    this.state = $state;\n    this.window = $window;\n    this.authorityService = authorityService;\n    this.numberOfTabs = 9;\n    this.newMediaService = newMediaService;\n    this.newMediaService.cleanService();\n    this.newMediaService.createTabSelection(this.numberOfTabs);\n\n    let mediaId = this.state.params.currentId;\n    if(mediaId){\n      this.newMediaService.invalidMedia = false;\n      this.api['medias'].get({'currentId':mediaId}).$promise.then((response)=>{\n        this.newMediaService.setToModel('media',response);\n      });\n      this.nextStep();\n    }\n    this.getAcces();\n  }\n\n  getTab(index){\n    return this.newMediaService.getTab(index);\n  }\n\n  nextStep(){\n    this.newMediaService.nextStep();\n  }\n\n  updateTabIndex(index){\n    this.newMediaService.updateTabIndex(index);\n  }\n\n  goToBackState(){\n    this.window.history.back();\n  }\n\n  invalidMedia(){\n    return this.newMediaService.invalidMedia;\n  }\n\n  invalidMaterial(){\n    return this.newMediaService.invalidMaterial;\n  }\n\n  invalidPlusDetail(){\n    return this.newMediaService.invalidPlusDetail;\n  }\n\n  invalidSegment(){\n    return this.newMediaService.invalidSegment;\n  }\n\n  getAcces(){\n    var roles = ['MMRR'];\n    this.allowed=false;\n    this.authorityService\n      .getUser()\n      .then(() => {\n        this.allowed = this.authorityService.containsAll(roles);\n      })\n  }\n\n}\n"],"sourceRoot":"/source/"}
{"version":3,"sources":["app/home/scripts/services/med.time.code.srv.js"],"names":[],"mappings":"AAAA,OAAO,SAAS,+CAA+C,IAAI,UAAU,SAAS;EAAtF;;EAGE,IADmB;EAEnB,OAAO;IACL,SAAS;IACT,SAAS,YAAY;MAJJ,kBAAe,CAAA,YAAA;;;;;QAGvB,SAHQ,gBAGP,4BAA4B;UAOhC,aAAa,eAAe,MAVjB;;UAIjB,KAAK,sBAAsB;;;QAWvB,aAAa,YAfA,iBAAe,CAAA;UAgB1B,KAAK;UACL,OAVK,SAAA,cAAC,UAAU;YACtB,IAAG,CAAC,KAAK,oBAAoB,SAAS,WAAU;;cAE9C,OAAO;;YAET,IAAI,eAAe,SAAS,MAAM;YAClC,IAAI,aAAa,UAAU,GAAE;;cAE3B,OAAO;;YAET,OAAO,aAAa,OAAO,UAAA,MAAI;cAWrB,OAXyB,OAAO,MAAM,SAAS,KAAK,WAAW;eAAG,WAAW;;WAchF;UACD,KAAK;UACL,OAbD,SAAA,QAAC,UAAU;YAChB,OAAO,KAAK,oBAAoB,SAAS;;WAelC;UACD,KAAK;UACL,OAdK,SAAA,cAAC,gBAAgB,WAAU;YACtC,IAAG,KAAK,oBAAoB,SAAS,mBACnC,KAAK,cAAc,iBAAiB;cACpC,OAAO,SAAS,eAAe,MAAM,KAAK,MAAM;;YAElD,OAAO;;WAeA;UACD,KAAK;UACL,OAdH,SAAA,MACH,KACA,KACA,WAAU;YACV,IAAI,KAAK,oBAAoB,UAAU,CAAC,KAAK,KAAK,aAAa;cAC7D,IAAI,cAAc,KAAK,oBAAoB,gBAAgB,KAAK;cAChE,IAAI,cAAc,KAAK,oBAAoB,gBAAgB,KAAK;cAChE,OAAO,KAAK,oBAAoB,iBAAiB,cAAc,aAAa;;;WAcvE;UACD,KAAK;UACL,OAZF,SAAA,OACJ,KACA,KACA,WAAU;YACV,IAAI,KAAK,oBAAoB,UAAU,CAAC,KAAK,KAAK,aAAa;cAC7D,IAAI,cAAc,KAAK,oBAAoB,gBAAgB,KAAK;cAChE,IAAI,cAAc,KAAK,oBAAoB,gBAAgB,KAAK;cAChE,OAAO,KAAK,oBAAoB,iBAAiB,cAAc,aAAa;;;WAYvE;UACD,KAAK;UACL,OAVQ,SAAA,iBAAC,KAAI,KAAI;YACvB,IAAG,KAAK,oBAAoB,UAAU,CAAC,KAAK,OAAM;cAChD,IAAI,YAAY,SAAS,IAAI,MAAM,KAAK,KAAK;cAC7C,IAAI,YAAY,SAAS,IAAI,MAAM,KAAK,KAAK;cAC7C,OAAO,aAAa;;;WAaf;UACD,KAAK;UACL,OAXC,SAAA,UAAC,KAAI,KAAI;YAChB,IAAI,YAAY,SAAS,IAAI,MAAM,KAAK,KAAK;YAC7C,IAAI,YAAY,SAAS,IAAI,MAAM,KAAK,KAAK;YAC7C,OAAO,YAAY;;;;;;;;;;;;;;;;;QA4Bf,OA7Fa;;;MAgGf,QAAQ,WAhGO;;;GAmGlB","file":"app/home/scripts/services/med.time.code.srv.js","sourcesContent":["'use strict';\n\nexport default class TimeCodeService {\n\n  /*@ngInject*/\n  constructor(timeBaseTransformerService) {\n    this.timeBaseTransformer = timeBaseTransformerService;\n  }\n\n  isFormatValid(timeCode) {\n    if(!this.timeBaseTransformer._isValid(timeCode)){\n      //Not value to validate\n      return true;\n    }\n    let splittedTime = timeCode.split(':');\n    if (splittedTime.length != 4){\n      //Not valid format\n      return false;\n    }\n    return splittedTime.filter(elem => Number.isNaN(elem) || elem.length !== 2).length === 0;\n  }\n\n  isValid(timeCode) {\n    return this.timeBaseTransformer._isValid(timeCode);\n  }\n\n  isFramesValid(timeCodeString, maxFrames){\n    if(this.timeBaseTransformer._isValid(timeCodeString) &&\n      this.isFormatValid(timeCodeString)) {\n      return parseInt(timeCodeString.split(':')[3]) < maxFrames;\n    }\n    return true;\n  }\n\n  _plus(\n    tc1,\n    tc2,\n    maxFrames){\n    if (this.timeBaseTransformer._areValid([tc1, tc2, maxFrames])) {\n      let tc1InFrames = this.timeBaseTransformer.timeCodeToFrame(tc1, maxFrames);\n      let tc2InFrames = this.timeBaseTransformer.timeCodeToFrame(tc2, maxFrames);\n      return this.timeBaseTransformer.framesToTimecode(tc1InFrames + tc2InFrames, maxFrames);\n    }\n  }\n\n  _minus(\n    tc1,\n    tc2,\n    maxFrames){\n    if (this.timeBaseTransformer._areValid([tc1, tc2, maxFrames])) {\n      let tc1InFrames = this.timeBaseTransformer.timeCodeToFrame(tc1, maxFrames);\n      let tc2InFrames = this.timeBaseTransformer.timeCodeToFrame(tc2, maxFrames);\n      return this.timeBaseTransformer.framesToTimecode(tc1InFrames - tc2InFrames, maxFrames);\n    }\n  }\n\n  _isBiggerOrEqual(tc1,tc2){\n    if(this.timeBaseTransformer._areValid([tc1, tc2])){\n      let tc1Number = parseInt(tc1.split(\":\").join(\"\"));\n      let tc2Number = parseInt(tc2.split(\":\").join(\"\"));\n      return tc1Number >= tc2Number;\n    }\n  }\n\n  _isBigger(tc1,tc2){\n    let tc1Number = parseInt(tc1.split(\":\").join(\"\"));\n    let tc2Number = parseInt(tc2.split(\":\").join(\"\"));\n    return tc1Number > tc2Number;\n  }\n\n  /* Delete */\n  /* TODO: Este metodo no lo deberia usar nadie, menos que menos llamarse Lucas\n  stringToObjectLucas(stringTC) {\n    let arrayTC = stringTC.split(\":\");\n    let objTC = {\n      \"hour\":arrayTC[0],\n      \"minutes\":arrayTC[1],\n      \"seconds\":arrayTC[2],\n      \"frames\":arrayTC[3]\n    };\n    return objTC;\n  }\n  */\n}\n"],"sourceRoot":"/source/"}